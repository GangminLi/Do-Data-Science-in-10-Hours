<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8.1 TitanicDataAnalysis_UnderstandData.R | Do Data Science in 10 Hours</title>
  <meta name="description" content="This is my first book writtn using the bookdown package to write a book. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="8.1 TitanicDataAnalysis_UnderstandData.R | Do Data Science in 10 Hours" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is my first book writtn using the bookdown package to write a book. The output format for this book is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8.1 TitanicDataAnalysis_UnderstandData.R | Do Data Science in 10 Hours" />
  
  <meta name="twitter:description" content="This is my first book writtn using the bookdown package to write a book. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Gangmin Li" />


<meta name="date" content="2020-10-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="apendix.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Authoring Books with R Markdown</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="what-is-this-book-why-to-read-it.html"><a href="what-is-this-book-why-to-read-it.html"><i class="fa fa-check"></i><b>0.1</b> What is this book? Why to read it?</a></li>
<li class="chapter" data-level="0.2" data-path="structure-of-the-book.html"><a href="structure-of-the-book.html"><i class="fa fa-check"></i><b>0.2</b> Structure of the Book</a></li>
<li class="chapter" data-level="0.3" data-path="what-can-this-course-offer-you.html"><a href="what-can-this-course-offer-you.html"><i class="fa fa-check"></i><b>0.3</b> What Can This Course Offer You?</a></li>
<li class="chapter" data-level="0.4" data-path="schedule.html"><a href="schedule.html"><i class="fa fa-check"></i><b>0.4</b> Schedule</a></li>
<li class="chapter" data-level="0.5" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i><b>0.5</b> Notes</a></li>
<li class="chapter" data-level="0.6" data-path="convention.html"><a href="convention.html"><i class="fa fa-check"></i><b>0.6</b> Convention</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="what-is-data-science.html"><a href="what-is-data-science.html"><i class="fa fa-check"></i><b>1.1</b> What is Data Science?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="what-is-data-science.html"><a href="what-is-data-science.html#data-science-as-discovery-of-data-insight"><i class="fa fa-check"></i><b>1.1.1</b> Data science as Discovery of Data Insight</a></li>
<li class="chapter" data-level="1.1.2" data-path="what-is-data-science.html"><a href="what-is-data-science.html#data-science-as-development-of-data-product"><i class="fa fa-check"></i><b>1.1.2</b> Data science as Development of Data Product</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="what-is-data-scientist.html"><a href="what-is-data-scientist.html"><i class="fa fa-check"></i><b>1.2</b> What is Data Scientist?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="what-is-data-scientist.html"><a href="what-is-data-scientist.html#the-requisite-skill-set"><i class="fa fa-check"></i><b>1.2.1</b> The Requisite Skill Set</a></li>
<li class="chapter" data-level="1.2.2" data-path="what-is-data-scientist.html"><a href="what-is-data-scientist.html#how-to-become-a-data-scientist"><i class="fa fa-check"></i><b>1.2.2</b> How to Become a Data Scientist?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="process.html"><a href="process.html"><i class="fa fa-check"></i><b>1.3</b> Process of Doing Data Science</a><ul>
<li class="chapter" data-level="" data-path="process.html"><a href="process.html#step1"><i class="fa fa-check"></i>Step 1: Understand the Problem - Define Objectives</a></li>
<li class="chapter" data-level="" data-path="process.html"><a href="process.html#step2"><i class="fa fa-check"></i>Step 2: Undertand Data</a></li>
<li class="chapter" data-level="" data-path="process.html"><a href="process.html#preprocess"><i class="fa fa-check"></i>Step 3: Data Preprocess</a></li>
<li class="chapter" data-level="" data-path="process.html"><a href="process.html#analyse"><i class="fa fa-check"></i>Step 4: Analyze Data</a></li>
<li class="chapter" data-level="" data-path="process.html"><a href="process.html#step-5-results-interpretation-and-evaluation"><i class="fa fa-check"></i>Step 5: Results Interpretation and Evaluation</a></li>
<li class="chapter" data-level="" data-path="process.html"><a href="process.html#step-6-data-report-and-communication"><i class="fa fa-check"></i>Step 6: Data Report and Communication)</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="tools-used-in-doing-a-data-science-project.html"><a href="tools-used-in-doing-a-data-science-project.html"><i class="fa fa-check"></i><b>1.4</b> Tools used in Doing a Data Science Project</a><ul>
<li class="chapter" data-level="" data-path="tools-used-in-doing-a-data-science-project.html"><a href="tools-used-in-doing-a-data-science-project.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="tools-used-in-doing-a-data-science-project.html"><a href="tools-used-in-doing-a-data-science-project.html#python"><i class="fa fa-check"></i>Python</a></li>
<li class="chapter" data-level="" data-path="tools-used-in-doing-a-data-science-project.html"><a href="tools-used-in-doing-a-data-science-project.html#sql"><i class="fa fa-check"></i>SQL</a></li>
<li class="chapter" data-level="" data-path="tools-used-in-doing-a-data-science-project.html"><a href="tools-used-in-doing-a-data-science-project.html#hadoop"><i class="fa fa-check"></i>Hadoop</a></li>
<li class="chapter" data-level="" data-path="tools-used-in-doing-a-data-science-project.html"><a href="tools-used-in-doing-a-data-science-project.html#tableau"><i class="fa fa-check"></i>Tableau</a></li>
<li class="chapter" data-level="" data-path="tools-used-in-doing-a-data-science-project.html"><a href="tools-used-in-doing-a-data-science-project.html#weka"><i class="fa fa-check"></i>Weka</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="applications-of-data-science.html"><a href="applications-of-data-science.html"><i class="fa fa-check"></i><b>1.5</b> Applications of Data Science</a><ul>
<li class="chapter" data-level="" data-path="applications-of-data-science.html"><a href="applications-of-data-science.html#data-science-in-healthcare"><i class="fa fa-check"></i>Data Science in Healthcare</a></li>
<li class="chapter" data-level="" data-path="applications-of-data-science.html"><a href="applications-of-data-science.html#data-science-in-e-commerce"><i class="fa fa-check"></i>Data Science in E-commerce</a></li>
<li class="chapter" data-level="" data-path="applications-of-data-science.html"><a href="applications-of-data-science.html#data-science-in-manufacturing"><i class="fa fa-check"></i>Data Science in Manufacturing</a></li>
<li class="chapter" data-level="" data-path="applications-of-data-science.html"><a href="applications-of-data-science.html#data-science-as-conversational-agents"><i class="fa fa-check"></i>Data Science as Conversational Agents</a></li>
<li class="chapter" data-level="" data-path="applications-of-data-science.html"><a href="applications-of-data-science.html#data-science-in-transport"><i class="fa fa-check"></i>Data Science in Transport</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>2</b> Get Your Tools Ready</a><ul>
<li class="chapter" data-level="2.1" data-path="brief-introductiuon-about-r-and-rstudio.html"><a href="brief-introductiuon-about-r-and-rstudio.html"><i class="fa fa-check"></i><b>2.1</b> Brief introductiuon about R and RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="brief-introductiuon-about-r-and-rstudio.html"><a href="brief-introductiuon-about-r-and-rstudio.html#features-of-r-programming"><i class="fa fa-check"></i><b>2.1.1</b> Features of R Programming</a></li>
<li class="chapter" data-level="2.1.2" data-path="brief-introductiuon-about-r-and-rstudio.html"><a href="brief-introductiuon-about-r-and-rstudio.html#r-scripts"><i class="fa fa-check"></i><b>2.1.2</b> R Scripts</a></li>
<li class="chapter" data-level="2.1.3" data-path="brief-introductiuon-about-r-and-rstudio.html"><a href="brief-introductiuon-about-r-and-rstudio.html#r-graphical-user-interface-rgui"><i class="fa fa-check"></i><b>2.1.3</b> R Graphical User Interface (RGui)</a></li>
<li class="chapter" data-level="2.1.4" data-path="brief-introductiuon-about-r-and-rstudio.html"><a href="brief-introductiuon-about-r-and-rstudio.html#rstudio"><i class="fa fa-check"></i><b>2.1.4</b> RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="downlaod-and-install-r-and-rstudio.html"><a href="downlaod-and-install-r-and-rstudio.html"><i class="fa fa-check"></i><b>2.2</b> Downlaod and Install R and RStudio</a><ul>
<li class="chapter" data-level="2.2.1" data-path="downlaod-and-install-r-and-rstudio.html"><a href="downlaod-and-install-r-and-rstudio.html#r-download-and-installation"><i class="fa fa-check"></i><b>2.2.1</b> R Download and Installation</a></li>
<li class="chapter" data-level="2.2.2" data-path="downlaod-and-install-r-and-rstudio.html"><a href="downlaod-and-install-r-and-rstudio.html#rstudio-download-and-installation"><i class="fa fa-check"></i><b>2.2.2</b> RStudio Download and Installation</a></li>
<li class="chapter" data-level="2.2.3" data-path="downlaod-and-install-r-and-rstudio.html"><a href="downlaod-and-install-r-and-rstudio.html#rs"><i class="fa fa-check"></i><b>2.2.3</b> Familiar with RStudio interface</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="bootsup-your-rstudio.html"><a href="bootsup-your-rstudio.html"><i class="fa fa-check"></i><b>2.3</b> Bootsup your RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="instructions.html"><a href="instructions.html"><i class="fa fa-check"></i><b>2.4</b> Instructions</a><ul>
<li class="chapter" data-level="" data-path="instructions.html"><a href="instructions.html#code"><i class="fa fa-check"></i>Code</a></li>
<li class="chapter" data-level="" data-path="instructions.html"><a href="instructions.html#tips"><i class="fa fa-check"></i>Tips</a></li>
<li class="chapter" data-level="" data-path="instructions.html"><a href="instructions.html#actions"><i class="fa fa-check"></i>Actions</a></li>
<li class="chapter" data-level="" data-path="instructions.html"><a href="instructions.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-2.html"><a href="exercise-2.html"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prob.html"><a href="prob.html"><i class="fa fa-check"></i><b>3</b> Understand Problem</a><ul>
<li class="chapter" data-level="3.1" data-path="kaggle-competion.html"><a href="kaggle-competion.html"><i class="fa fa-check"></i><b>3.1</b> Kaggle Competion</a></li>
<li class="chapter" data-level="3.2" data-path="titianic-at-kaggel.html"><a href="titianic-at-kaggel.html"><i class="fa fa-check"></i><b>3.2</b> Titianic at Kaggel</a></li>
<li class="chapter" data-level="3.3" data-path="the-titanic-problem.html"><a href="the-titanic-problem.html"><i class="fa fa-check"></i><b>3.3</b> The Titanic problem</a><ul>
<li class="chapter" data-level="" data-path="the-titanic-problem.html"><a href="the-titanic-problem.html#the-challenge"><i class="fa fa-check"></i>The challenge</a></li>
<li class="chapter" data-level="" data-path="the-titanic-problem.html"><a href="the-titanic-problem.html#the-data"><i class="fa fa-check"></i>The data</a></li>
<li class="chapter" data-level="" data-path="the-titanic-problem.html"><a href="the-titanic-problem.html#submission"><i class="fa fa-check"></i>Submission</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="reflection.html"><a href="reflection.html"><i class="fa fa-check"></i><b>3.4</b> Reflection</a></li>
<li class="chapter" data-level="" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i>Exercises 3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="understand-data.html"><a href="understand-data.html"><i class="fa fa-check"></i><b>4</b> Understand Data</a><ul>
<li class="chapter" data-level="4.1" data-path="load-data.html"><a href="load-data.html"><i class="fa fa-check"></i><b>4.1</b> Load data</a></li>
<li class="chapter" data-level="4.2" data-path="assess-data-quantity.html"><a href="assess-data-quantity.html"><i class="fa fa-check"></i><b>4.2</b> Assess Data Quantity</a></li>
<li class="chapter" data-level="4.3" data-path="general-data-attributes-assessment.html"><a href="general-data-attributes-assessment.html"><i class="fa fa-check"></i><b>4.3</b> General Data Attributes Assessment</a></li>
<li class="chapter" data-level="4.4" data-path="actual-attributes-types-examination.html"><a href="actual-attributes-types-examination.html"><i class="fa fa-check"></i><b>4.4</b> Actual Attributes Types Examination</a></li>
<li class="chapter" data-level="4.5" data-path="attvalue.html"><a href="attvalue.html"><i class="fa fa-check"></i><b>4.5</b> Actual Data Attributes Value Examination</a><ul>
<li class="chapter" data-level="4.5.1" data-path="attvalue.html"><a href="attvalue.html#passengerid."><i class="fa fa-check"></i><b>4.5.1</b> PassengerID.</a></li>
<li class="chapter" data-level="4.5.2" data-path="attvalue.html"><a href="attvalue.html#survived"><i class="fa fa-check"></i><b>4.5.2</b> Survived</a></li>
<li class="chapter" data-level="4.5.3" data-path="attvalue.html"><a href="attvalue.html#pclass"><i class="fa fa-check"></i><b>4.5.3</b> Pclass</a></li>
<li class="chapter" data-level="4.5.4" data-path="attvalue.html"><a href="attvalue.html#name"><i class="fa fa-check"></i><b>4.5.4</b> Name</a></li>
<li class="chapter" data-level="4.5.5" data-path="attvalue.html"><a href="attvalue.html#sex"><i class="fa fa-check"></i><b>4.5.5</b> Sex</a></li>
<li class="chapter" data-level="4.5.6" data-path="attvalue.html"><a href="attvalue.html#age"><i class="fa fa-check"></i><b>4.5.6</b> Age</a></li>
<li class="chapter" data-level="4.5.7" data-path="attvalue.html"><a href="attvalue.html#sibsp"><i class="fa fa-check"></i><b>4.5.7</b> SibSp</a></li>
<li class="chapter" data-level="4.5.8" data-path="attvalue.html"><a href="attvalue.html#parch"><i class="fa fa-check"></i><b>4.5.8</b> Parch</a></li>
<li class="chapter" data-level="4.5.9" data-path="attvalue.html"><a href="attvalue.html#ticket"><i class="fa fa-check"></i><b>4.5.9</b> Ticket</a></li>
<li class="chapter" data-level="4.5.10" data-path="attvalue.html"><a href="attvalue.html#fare"><i class="fa fa-check"></i><b>4.5.10</b> Fare</a></li>
<li class="chapter" data-level="4.5.11" data-path="attvalue.html"><a href="attvalue.html#cabin"><i class="fa fa-check"></i><b>4.5.11</b> Cabin</a></li>
<li class="chapter" data-level="4.5.12" data-path="attvalue.html"><a href="attvalue.html#embarkded"><i class="fa fa-check"></i><b>4.5.12</b> Embarkded</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="data-recods-level-assessment.html"><a href="data-recods-level-assessment.html"><i class="fa fa-check"></i><b>4.6</b> Data Recods Level Assessment</a></li>
<li class="chapter" data-level="" data-path="summary.html"><a href="summary.html#summary"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i>Exercises 4</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-preprocess.html"><a href="data-preprocess.html"><i class="fa fa-check"></i><b>5</b> Data PreProcess</a><ul>
<li class="chapter" data-level="5.1" data-path="dealt-with-miss-values-and-errors-age.html"><a href="dealt-with-miss-values-and-errors-age.html"><i class="fa fa-check"></i><b>5.1</b> Dealt with Miss values and Errors (Age, )</a></li>
<li class="chapter" data-level="5.2" data-path="attributes-selection-prediction-power.html"><a href="attributes-selection-prediction-power.html"><i class="fa fa-check"></i><b>5.2</b> Attributes selection (prediction power)</a></li>
<li class="chapter" data-level="5.3" data-path="attribute-reengineering-title-from-name-treval-famail-relatives-alone-from-parch-and-sibsb.html"><a href="attribute-reengineering-title-from-name-treval-famail-relatives-alone-from-parch-and-sibsb.html"><i class="fa fa-check"></i><b>5.3</b> Attribute reengineering ( title from name, treval famail _ relatives, alone from ParCh and SibSb)</a></li>
<li class="chapter" data-level="5.4" data-path="assemble-final-datasets-for-modelling.html"><a href="assemble-final-datasets-for-modelling.html"><i class="fa fa-check"></i><b>5.4</b> Assemble final datasets for modelling</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>6</b> Data Analysis</a><ul>
<li class="chapter" data-level="6.1" data-path="modelsprediction.html"><a href="modelsprediction.html"><i class="fa fa-check"></i><b>6.1</b> models:Prediction</a></li>
<li class="chapter" data-level="6.2" data-path="evaluation.html"><a href="evaluation.html"><i class="fa fa-check"></i><b>6.2</b> Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="result-interpretation.html"><a href="result-interpretation.html"><i class="fa fa-check"></i><b>7</b> Result Interpretation</a></li>
<li class="chapter" data-level="8" data-path="data-report.html"><a href="data-report.html"><i class="fa fa-check"></i><b>8</b> Data Report</a></li>
<li class="chapter" data-level="" data-path="apendix.html"><a href="apendix.html"><i class="fa fa-check"></i>Apendix</a><ul>
<li class="chapter" data-level="8.1" data-path="UnderstandDatacode.html"><a href="UnderstandDatacode.html"><i class="fa fa-check"></i><b>8.1</b> TitanicDataAnalysis_UnderstandData.R</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Do Data Science in 10 Hours</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="UnderstandDatacode" class="section level2">
<h2><span class="header-section-number">8.1</span> TitanicDataAnalysis_UnderstandData.R</h2>
<pre><code>############################################################################
# Copyright 2020 Gangmin Li
#
# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#  	http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# The base of this code was from Dave Langer &quot;Intoduction to Data Science.&quot;
# Credit to him. You can find him on Github: https://github.com/EasyD
# I have also integrated other sources like Titanic Forum, Python code
# and some Chinese R code.
#
# Notably,
# https://www.kaggle.com/startupsci/titanic-data-science-solutions
#
# The whole purpose of this is to teach My students on Data Science.
#
# This R source code file corresponds to video 1 of the YouTube series
# &quot;Introduction to Data Science with R&quot; located at the following URL:
#     http://www.youtube.com/watch?v=32o0DnuRjfg
#
# The task is to build a model based on the train data
# then to predict test data who can survive in Kaggle Titanic competition
##########################################################################
# Tutorial One - Understand Data
#
# Understand data involves three steps:
# 1. Load data into memory - RStudio
# 2. Assess Data quantity
# 3. Assess data quality - set goals for next step in data preprocess
##########################################################################

### Load raw data

train &lt;- read.csv(&quot;train.csv&quot;, header = TRUE)
test &lt;- read.csv(&quot;test.csv&quot;, header = TRUE)

# RStudio help function
# what help with any R function just type ?
# for example ?read.csv in Console

# First explore of datasets
# the first R code you can use is str.
# use ?str to find more

help(str)

# use str to explore train and test

str(train)
str(test)

# Add a &quot;Survived&quot; variable to the test set to allow for combining data sets
test &lt;- data.frame(Survived = rep(&quot;NA&quot;, nrow(test)), test[,])

# Now check test. you can see that it has 12 variable now.
# And Survived is the first variable. because we used test[,]
# if you want add Survived into the second position Do this,
# test &lt;- data.frame(test[1], Survived = rep(&quot;NA&quot;, nrow(test)), test[,2:ncol(test)])

# Combine datasets together. actually append test to train
data &lt;- rbind(train, test)

#### We have done combined datasest with only a few line of code
# notice that the type of Survived has been changed to Chr.
# This is because we used &quot;NA&quot; as its value
# A bit about R data types
# ?str structure of dataset
# chr, int
# Factor in R is &#39;category&#39;. it likes a selection from a list.
# for example, Cabin Factor w/187 levels. It means there are 187 selections.
# Sex Factor w/ 2 &quot;female&quot;, &quot;male&quot;, 2,1 means, two options 2- female, 1- male.
#
# NA : not available (absent value, missing value)

str(data)

# Exam PassengerID, type INT, we can check total number and the number of unique values.
# If they are equal and both equal to the number of records. it means there are
# unique and has no missing value.
length(data$PassengerId)
length(unique(data$PassengerId))

### Exam Survived
data$Survived &lt;- as.factor(data$Survived)
table(data$Survived)

# Calculate the survive rate in train data is 38% and the death rate is 61.61%
prop.table(table(as.factor(train$Survived)))

### Examine Pclass value,
# Look into Kaggle&#39;s explanation about Pclass: it is a proxy for social class i.e. rich or poor
# It should be factor and it does not make sense to stay in int.
data$Pclass &lt;- as.factor(data$Pclass)
test$Pclass &lt;- as.factor(test$Pclass)
train$Pclass &lt;- as.factor(train$Pclass)

# Distribution across classes
table(data$Pclass)

# Distribution across classes with survive
table(data$Pclass, data$Survived)

# Calculate the distribution on Pclass
# Overall passenger distribution on classes.
prop.table(table(data$Pclass))

# Train data passenger distribution on classes.
prop.table(table(train$Pclass))

# Test data passenger distribution on classes.
prop.table(table(test$Pclass))

# Calculate death distribution across classes with Train data
SurviveOverClass &lt;- table(train$Pclass, train$Survived)
# Convert SurviveOverClass into data frame
SoC.data.fram &lt;- data.frame(SurviveOverClass)
# Retrieve death distribution in classes
Death.distribution.on.class &lt;- SoC.data.fram$Freq[SoC.data.fram$Var2==0]
prop.table(Death.distribution.on.class)

# Calculate death rate in train data
# Distribution across classes with survive in Train data
SurviveOverClass &lt;- table(train$Pclass, train$Survived)
# Convert SurviveOverClass into data frame
SoC.data.fram &lt;- data.frame(SurviveOverClass)
# Retrieve death distribution in classes
Death.distribution.on.class &lt;- SoC.data.fram$Freq[SoC.data.fram$Var2==0]
prop.table(Death.distribution.on.class)

# Try summary on data
summary.data.frame(data)

## Exploratory data analysis with graph
# Load up ggplot2 package to use for visualizations
# load it into memory
library(ggplot2)

# High class passenger has more chance of survive than passenger with lower class
# Hypothesis - Rich passengers can but expensive ticket. class=1 is more expensive
# survived at a higher rate
ggplot(train, aes(x = Pclass, fill = factor(Survived))) +
  geom_bar(width = 0.5) +
  xlab(&quot;Pclass&quot;) +
  ylab(&quot;Total Count&quot;) +
  labs(fill = &quot;Survived&quot;)

# It sort of proved the survive rate with social class
# more people perished in the third class

### Exam Name attribute
# the original name typed as factor, which we really don&#39;t want (shows the uniqueness)
# convert Name type
data$Name &lt;- as.character(data$Name)

# Confirm the name has 1037 unique values
length(unique(data$Name))

# Find the two duplicate names
# First used which function to get the duplicate names and store them as a vector dup.names
# check it up ?which.
dup.names &lt;- data[which(duplicated(data$Name)), &quot;Name&quot;]

# Echo out
dup.names

### Exam Sex attribute
# Retrial male and females. then check their numbers.
summary(data$Sex)

#Plot Sex distribution on entire dataset and get general an impression
ggplot(data[1:891,], aes(x = Sex)) +
  geom_bar(fill=&quot;steelblue&quot;) +
  xlab(&quot;Sex&quot;) +
  ylab(&quot;Total Count&quot;)

# plot Survived over Sex on train. use data[1:891,]
ggplot(data[1:891,], aes(x = Sex, fill = Survived)) +
  geom_bar() +
  xlab(&quot;Sex&quot;) +
  ylab(&quot;Total Count&quot;) +
  labs(fill = &quot;Survived&quot;)

### Examine Age
# Summary over data, train and test.
summary(data$Age)
summary(train$Age)
summary(test$Age)

#It makes sense to change Age type to Factor to see distribution
summary(as.factor(data$Age))

# Plot distribution of age group
ggplot(data, aes(x = Age)) +
  geom_histogram(binwidth = 10, fill=&quot;steelblue&quot;) +
  xlab(&quot;Age&quot;) +
  ylab(&quot;Total Count&quot;)

# Plot Survived on age group on train dataset
ggplot(data[1:891,], aes(x = Age, fill = Survived)) +
  geom_histogram(binwidth = 10) +
  xlab(&quot;Age&quot;) +
  ylab(&quot;Total Count&quot;)

### Exam SibSp, Its original type is int
summary((data$SibSp))

# How many possible unique values?
length(unique(data$SibSp))

# Treat it as a factor, so we know the value distribution
data$SibSp &lt;- as.factor(data$SibSp)
summary(data$SibSp)

# Plot entire SibSp distribution among the 7 values
ggplot(data, aes(x = SibSp)) +
  geom_bar() +
  xlab(&quot;SibSp&quot;) +
  ylab(&quot;Total Count&quot;)+
  coord_cartesian()

# Plot on the Survived on SibSp
ggplot(data[1:891,], aes(x = SibSp, fill = Survived)) +
  geom_bar() +
  xlab(&quot;SibSp&quot;) +
  ylab(&quot;Total Count&quot;)  +
  labs(fill = &quot;Survived&quot;)

### Exam Parch
summary(data$Parch)

# How many possible values?
length(unique(data$Parch))

# Treat is as a factor so we know the value distribution
data$Parch &lt;- as.factor(data$Parch)
summary(data$Parch)

# Plot entire Parch distribution among the 8 posibilites
ggplot(data, aes(x = Parch)) +
  geom_bar() +
  xlab(&quot;Parch&quot;) +
  ylab(&quot;Total Count&quot;)

# Plot on the Survived on SibSp
ggplot(data[1:891,], aes(x = Parch, fill = Survived)) +
  geom_bar() +
  xlab(&quot;Parch&quot;) +
  ylab(&quot;Total Count&quot;)  +
  labs(fill = &quot;Survived&quot;)

### Exam  ticket
summary(data$Ticket)
length(unique(data$Ticket))
str(data$Ticket)
which(is.na(data$Ticket))

# Plot it value
ggplot(data[1:891,], aes(x = Ticket)) +
  geom_bar() +
  xlab(&quot;Ticket&quot;) +
  ylab(&quot;Total Count&quot;)

# Plot on the survive on Ticket
ggplot(data[1:891,], aes(x = Ticket, fill = Survived)) +
  geom_bar() +
  xlab(&quot;Ticket&quot;) +
  ylab(&quot;Total Count&quot;)  +
  labs(fill = &quot;Survived&quot;)

### Examine Fare
summary(data$Fare)
length(unique(data$Fare))

# Can&#39;t make fare a factor, treat as numeric &amp; visualize with histogram
ggplot(data, aes(x = Fare)) +
  geom_histogram(binwidth = 5) +
  ggtitle(&quot;Fare Distribution&quot;) +
  xlab(&quot;Fare&quot;) +
  ylab(&quot;Total Count&quot;) +
  ylim(0,200)

# Let&#39;s check to see if fare has predictive power
ggplot(data[1:891,], aes(x = Fare, fill = Survived)) +
  geom_histogram(binwidth = 5) +
  xlab(&quot;fare&quot;) +
  ylab(&quot;Total Count&quot;) +
  ylim(0,50) +
  labs(fill = &quot;Survived&quot;)

# Explore Fare distribution between train and test to see if they are overlapped?
ggplot(train, aes(x = Fare)) +
  geom_histogram(binwidth = 5) +
  ggtitle(&quot;Fare Distribution&quot;) +
  xlab(&quot;Fare&quot;) +
  ylab(&quot;Total Count&quot;) +
  ylim(0,200)

ggplot(test, aes(x = Fare)) +
  geom_histogram(binwidth = 5) +
  ggtitle(&quot;Fare Distribution&quot;) +
  xlab(&quot;Fare&quot;) +
  ylab(&quot;Total Count&quot;) +
  ylim(0,200)

### Cabin
# Examine cabin values
str(data$Cabin)
# Cabin really isn&#39;t a factor, make a string and the display first 100
data$Cabin &lt;- as.character(data$Cabin)
data$Cabin[1:100]

# Find number of the missing value
table(train[which(train$Cabin ==&quot;&quot;), &quot;Cabin&quot;])

# Analysis of the cabin variable
str(data$Cabin)

# Cabin really isn&#39;t a factor, make a string and the display first 100
data$Cabin &lt;- as.character(data$Cabin)
data$Cabin[1:100]

# Find out number of the missing value in the train
train$Cabin &lt;- as.character(train$Cabin)
table(train[which(train$Cabin ==&quot;&quot;), &quot;Cabin&quot;])

# Replace empty cabins with a &quot;U&quot;
#data[which(data$Cabin == &quot;&quot;), &quot;Cabin&quot;] &lt;- &quot;U&quot;
data$Cabin[1:100]

# Take a look at just the first char as a factor
cabin.first.char &lt;- as.factor(substr(data$Cabin, 1, 1))
str(cabin.first.char)
levels(cabin.first.char)

# Add to combined data set and plot
data$cabin.first.char &lt;- cabin.first.char

# High level plot
ggplot(data[1:891,], aes(x = cabin.first.char, fill = Survived)) +
  geom_bar() +
  ggtitle(&quot;Survivability by cabin.first.char&quot;) +
  xlab(&quot;cabin.first.char&quot;) +
  ylab(&quot;Total Count&quot;) +
  ylim(0,750) +
  labs(fill = &quot;Survived&quot;)

### Examine Embark
str(data$Embarked)
summary(data$Embarked)

# Plot Embarked data distribution and the Survived data over it
ggplot(data, aes(x = Embarked)) +
  geom_bar(width=0.5) +
  xlab(&quot;Passenger embarked port&quot;) +
  ylab(&quot;Total Count&quot;)

ggplot(data[1:891,], aes(x = Embarked, fill = Survived)) +
  geom_bar(width=0.5) +
   xlab(&quot;embarked&quot;) +
  ylab(&quot;Total Count&quot;) +
  labs(fill = &quot;Survived&quot;)

##Calculate death RATE distribution over Embarked port with Train data
# We use table in R, you can check with ?table. A good example is
# mytable &lt;- table(A,B) # A will be rows, B will be columns
# mytable # print table

# margin.table(mytable, 1) # A frequencies (summed over B)
# margin.table(mytable, 2) # B frequencies (summed over A)

# prop.table(mytable) # cell percentages
# prop.table(mytable, 1) # row percentages
# prop.table(mytable, 2) # column percentages

# We need prop.table to get column percentage which is the survived

# creat Embarked and Survived contingency table
SurviveOverEmbarkedTable &lt;- table(train$Embarked, train$Survived)
# Death-0/survived-1 value distribution (percentage) based on embarked ports
# prop.table(mytable, 2) give us column (Survived) percentages
Deathandsurvivepercentage &lt;- prop.table(SurviveOverEmbarkedTable, 2)
# Plot
M &lt;- c(&quot;c-Cherbourg&quot;, &quot;Q-Queenstown&quot;, &quot;S-Southampton&quot;)
barplot(Deathandsurvivepercentage[2:4,1]*100, xlab =(&quot;&quot;), ylim=c(0,100), ylab=&quot;Death distribution in percentage %&quot;,  names.arg = M, col=&quot;steelblue&quot;, main=&quot;Death distribution&quot;, border=&quot;black&quot;, beside=TRUE)
barplot(Deathandsurvivepercentage[2:4,2]*100, xlab =(&quot;&quot;), ylim=c(0,100), ylab=&quot;Death distribution in percentage %&quot;,  names.arg = M, col=&quot;blue&quot;, main=&quot;Death distribution&quot;, border=&quot;black&quot;, beside=TRUE)

## Calculate survived RATE distribution based on embarked ports
# Death-0/survived-1 value distribution (percentage) based on embarked ports
# prop.table(mytable, 1) give us row (Port) percentages
# col-1 (Survived=0, perished) and col-2 (Survived =1, survived)
DeathandsurviveRateforeachport &lt;- prop.table(SurviveOverEmbarkedTable, 1)
#plot
barplot(Deathandsurvivepercentage[2:4,1]*100, xlab =(&quot;&quot;), ylim=c(0,100), ylab=&quot;Death rate in percentage %&quot;,  names.arg = M, col=&quot;red&quot;, main=&quot;Death rate comparison among mebarked ports&quot;, border=&quot;black&quot;, beside=TRUE)

#End ###########################################################
</code></pre>

</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="apendix.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown/edit/master/inst/examples/09-refer.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Do Data Science in 10 Hours.pdf", "Do Data Science in 10 Hours.epub", "Do Data Science in 10 Hours.mobi"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
